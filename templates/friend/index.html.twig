{% extends 'base.html.twig' %}

{% block title %}
    Friends list
{% endblock %}

{% block body %}
    <style>
        .example-wrapper { margin: 1em auto; max-width: 800px; width: 95%; font:
        18px/1.5 sans-serif; } .example-wrapper code { background: #F5F5F5;
        padding: 2px 6px; }
    </style>

    <div class="example-wrapper">
        {# list all friend in friends #}
        <h1>
            Friends
        </h1>
        <ul>
            {% if (friends|length) == 0 %}
                <li>No friends found</li>
            {% else %}
                {% for friend in friends %}
                    <li>{{ friend.username }}</li>
                    <a href="{{
                        path(
                            'app_chat',
                            {
                                id: friend.id
                            }
                        )
                        }}">
                        Messages
                    </a>
                {% endfor %}
            {% endif %}

            {# add symfony form from variable form #}
            {{
                form_start(
                    form,
                    {
                        action: path('app_friend_add'),
                        method: 'POST'
                    }
                )
            }}
            {{ form_widget(form) }}
            {{ form_end(form) }}
        </ul>
    </div>
{% endblock %}
